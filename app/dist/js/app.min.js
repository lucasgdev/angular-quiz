(function(){
    'use strict';

    // Prepare the 'FoodModule' module for subsequent registration of controllers and delegates
    angular.module('FoodModule', []);

})();

(function(){
    'use strict';

    // Prepare the 'SWModule' module for subsequent registration of controllers and delegates
    angular.module('GotModule', []);

})();

(function(){
    'use strict';

    // Prepare the 'SWModule' module for subsequent registration of controllers and delegates
    angular.module('SWModule', []);

})();

(function(){

    angular
        .module('FoodModule')
        .controller('FoodController', FoodController);

    /**

     **/

    function FoodController() {

        console.log('...FoodController');

        var vm = this;

        vm.foods = {
            items: [
                {
                    name: 'vegan',
                    title: 'I am an insect.',
                    image: 'https://upload.wikimedia.org/wikipedia/commons/4/4e/Leaf-cutting_ant.jpg'
                },
                {
                    name: 'pasta',
                    title: 'I love pasta.',
                    image: 'https://pixabay.com/static/uploads/photo/2015/12/28/16/00/pasta-1111592_960_720.jpg'
                },
                {
                    name: 'meat',
                    title: 'Gimme Meat.',
                    image: 'https://pixabay.com/static/uploads/photo/2015/08/21/18/19/spare-ribs-899306_960_720.jpg'
                },
                {
                    name: 'allfood',
                    title: 'Is it food? I am in',
                    image: 'https://s-media-cache-ak0.pinimg.com/736x/86/cb/6b/86cb6b1518570e01bb45ff7a22961fc5.jpg'
                }
            ]
        };
    }

})();


(function(){

    angular
        .module('GotModule')
        .controller('GotController', GotController);

    GotController.$inject = [
        'GotService',
    ]; 

    /**

     **/

    function GotController( GotService ) {

        console.log('...GotController');

        var vm = this;

        GotService.getSerie().then( function( data ) {
            vm.gotserie  = data.data;

            console.log(vm.gotserie);
        });

        // Get Seasons

        GotService.getSeason(1).then( function( data ) {
            vm.gotseason1 = data.data;
        });

        GotService.getSeason(2).then( function( data ) {
            vm.gotseason2 = data.data;
        });

        GotService.getSeason(3).then( function( data ) {
            vm.gotseason3 = data.data;
        });

        GotService.getSeason(4).then( function( data ) {
            vm.gotseason4 = data.data;
        });

        GotService.getSeason(5).then( function( data ) {
            vm.gotseason5 = data.data;
        });

        GotService.getSeason(6).then( function( data ) {
            vm.gotseason6 = data.data;

        });


    }

})();

(function () {
    'use strict';

    angular 
        .module('GotModule')
        .factory('GotService', GotService);


    GotService.$inject = [
        '$http'
    ];

    /**
     *
     **/

    function GotService($http) {
        console.log('... GotService');

        return {
            getSerie: function() {
                return $http.get('http://www.omdbapi.com/?t=Game%20of%20Thrones');
            },

            getSeason: function(season) {
                return $http.get('http://www.omdbapi.com/?t=Game%20of%20Thrones&Season=' + season);
            },

        };
    }
})();

(function () {
    'use strict';

    angular
        .module('SWModule')
        .factory('SWService', SWService);

    SWService.$inject = [ 
        '$http'
    ];

    /**

     **/

    function SWService($http) {
        console.log('... SWService');

        return {
            getMovies: function() {
                return $http.get('http://www.omdbapi.com/?s=%22Star%20Wars:%20Episode%22');
            }
        };
    }
})(); 

(function(){

    angular
        .module('SWModule')
        .controller('SWController', SWController);

    SWController.$inject = [
        'SWService'
    ];

    /**

     **/

    function SWController( SWService ) {

        console.log('...SWController');

        var vm = this;

        SWService.getMovies().then( function( data ) {
            vm.swmovies  = data.data;

            console.log(vm.swmovies);

        });
    }

})();

// app.js
// create our angular app and injects
// =============================================================================
angular.module('FormApp', ['ngAnimate', 'ui.router', 'ngMaterial', 'SWModule', 'GotModule', 'FoodModule'])


    .config(function($stateProvider, $urlRouterProvider, $mdThemingProvider) {

        $stateProvider
            // App routing
            .state('form', {
                url: '/',
                templateUrl: 'formBase.html',
                controller: 'formController',
            })

            .state('form.profile', {
                url: '/profile',
                templateUrl: 'modules/profile/profile.view.html'
            })

            .state('form.starwarsmovie', {
                url: '/starwarsmovie',
                templateUrl: 'modules/starwars/starwars.view.html',
                controller: 'SWController as vm'
            })
 
            .state('form.gameofthrones', {
                url: '/gameofthrones',
                templateUrl: 'modules/got/got.view.html',
                controller: 'GotController as vm'
            })

            .state('form.food', {
                url: '/food',
                templateUrl: 'modules/food/food.view.html',
                controller: 'FoodController as vm'
            })

            .state('form.review', {
                url: '/review',
                templateUrl: 'review.html',
            });

        // catch all route
        // send users to the form page
        $urlRouterProvider.otherwise('//profile');

        $mdThemingProvider.theme('default')
            .primaryPalette('red');
    })

    // our controller for the form
    // ============================
    .controller('formController', function($scope) {

        // we will store all of our form data in this object
        $scope.formData = {};

        // function to process the form
        $scope.processForm = function() {
            alert('Thank you! “Powerful you have become, the dark side I sense in you.” - Yoda!');
        };

    });